Script started on 2024-04-18 12:43:37-04:00
bash-4.4$ un am[K[K[Kn[Kame -a
Linux zeus-1.cec.gmu.edu 4.18.0-348.23.1.el8_5.x86_64 #1 SMP Tue Apr 12 11:20:32 EDT 2022 x86_64 x86_64 x86_64 GNU/Linux
bash-4.4$ ls
lab11_jsingh51_201.c  lab11_typescript_jsingh51_201  Makefile
bash-4.4$ pwe[Kd
/home/jsingh51/CS262/lab11_jsingh51_201
bash-4.4$ cat lab11_jsingh51_201.c 
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#define BYTETOBINARYPATTERN " %d%d%d%d%d%d%d%d"
#define BYTETOBINARY(byte)     \
    (byte & 0x80 ? 1 : 0),     \
        (byte & 0x40 ? 1 : 0), \
        (byte & 0x20 ? 1 : 0), \
        (byte & 0x10 ? 1 : 0), \
        (byte & 0x08 ? 1 : 0), \
        (byte & 0x04 ? 1 : 0), \
        (byte & 0x02 ? 1 : 0), \
        (byte & 0x01 ? 1 : 0)
#define PRINTBIN(x) printf(BYTETOBINARYPATTERN, BYTETOBINARY(x));

void setlsbs(unsigned char *p, unsigned char b0)
{
    for (int i = 0; i < 8; i++)
    {
        unsigned char x = b0;
        x = x >> i;
        x = x & 1;

        p[i] = p[i] | x;
        if (x == 0 && p[i] % 2 == 1)
            p[i]--;
    }
}

unsigned char getlsbs(unsigned char *p)
{
    unsigned char x = 0;
    for (int i = 0; i < 8; i++)
    {
        x += pow(2, i) * (p[i] % 2);
    }
    return x;
}

void printAll(unsigned char *p, unsigned char b0)
{
    printf("P(decimal): [");
    for (int i = 0; i < 8; i++)
    {
        printf(" %d", p[i]);
    }
    printf(" ]\n");

    printf("P(binary): [");
    for (int i = 0; i < 8; i++)
    {
        PRINTBIN(p[i]);
    }
    printf(" ]\n");

    printf("Byte0(decimal): %d\n", b0);
    printf("Byte0(binary): ");
    PRINTBIN(b0);
    printf("\n\n");
}

int main(int argc, char *argv[])
{

    if (argc < 2)
    {
        printf("Not enough args\n");
        exit(-1);
    }

    int seed;
    unsigned char *p = malloc(sizeof(unsigned char));
    sscanf(argv[1], "%d", &seed);
    srand(seed);

    for (int i = 0; i < 8; i++)
    {
        p[i] = rand() % 256;
    }
    unsigned char b0 = rand() % 256;
    
    printf("UNMODIFIED: ");
    printAll(p, b0);

    setlsbs(p, b0);
    printf("MODIFIED: ");
    printAll(p, b0);

    unsigned char B0 = getlsbs(p);
    printf("Original B0: %d\n", b0);
    printf("Decoded B0:  %d\n", B0);

    free(p);
}bash-4.4$ make
gcc lab11_jsingh51_201.c -o lab11_jsingh51_201 -g -Wall -std=c99 -pedantic-errors -lm
bash-4.4$ ./lab11_jsingh51_201 1[K0
UNMODIFIED: P(decimal): [ 103 198 105 115 81 255 74 236 ]
P(binary): [ 01100111 11000110 01101001 01110011 01010001 11111111 01001010 11101100 ]
Byte0(decimal): 41
Byte0(binary):  00101001

MODIFIED: P(decimal): [ 103 198 104 115 80 255 74 236 ]
P(binary): [ 01100111 11000110 01101000 01110011 01010000 11111111 01001010 11101100 ]
Byte0(decimal): 41
Byte0(binary):  00101001

Original B0: 41
Decoded B0:  41
bash-4.4$ ./lab11_jsingh51_201 0[K1
UNMODIFIED: P(decimal): [ 103 198 105 115 81 255 74 236 ]
P(binary): [ 01100111 11000110 01101001 01110011 01010001 11111111 01001010 11101100 ]
Byte0(decimal): 41
Byte0(binary):  00101001

MODIFIED: P(decimal): [ 103 198 104 115 80 255 74 236 ]
P(binary): [ 01100111 11000110 01101000 01110011 01010000 11111111 01001010 11101100 ]
Byte0(decimal): 41
Byte0(binary):  00101001

Original B0: 41
Decoded B0:  41
bash-4.4$ ./lab11_jsingh51_201 1[K2
UNMODIFIED: P(decimal): [ 250 127 68 79 213 210 0 45 ]
P(binary): [ 11111010 01111111 01000100 01001111 11010101 11010010 00000000 00101101 ]
Byte0(decimal): 41
Byte0(binary):  00101001

MODIFIED: P(decimal): [ 251 126 68 79 212 211 0 44 ]
P(binary): [ 11111011 01111110 01000100 01001111 11010100 11010011 00000000 00101100 ]
Byte0(decimal): 41
Byte0(binary):  00101001

Original B0: 41
Decoded B0:  41
bash-4.4$ ./lab11_jsingh51_201 2[K3
UNMODIFIED: P(decimal): [ 58 209 216 40 81 124 200 176 ]
P(binary): [ 00111010 11010001 11011000 00101000 01010001 01111100 11001000 10110000 ]
Byte0(decimal): 1
Byte0(binary):  00000001

MODIFIED: P(decimal): [ 59 208 216 40 80 124 200 176 ]
P(binary): [ 00111011 11010000 11011000 00101000 01010000 01111100 11001000 10110000 ]
Byte0(decimal): 1
Byte0(binary):  00000001

Original B0: 1
Decoded B0:  1
bash-4.4$ ./lab11_jsingh51_201 3[K4
UNMODIFIED: P(decimal): [ 221 51 66 30 243 25 153 27 ]
P(binary): [ 11011101 00110011 01000010 00011110 11110011 00011001 10011001 00011011 ]
Byte0(decimal): 36
Byte0(binary):  00100100

MODIFIED: P(decimal): [ 220 50 67 30 242 25 152 26 ]
P(binary): [ 11011100 00110010 01000011 00011110 11110010 00011001 10011000 00011010 ]
Byte0(decimal): 36
Byte0(binary):  00100100

Original B0: 36
Decoded B0:  36
bash-4.4$ ./lab11_jsingh51_201 4[K5
UNMODIFIED: P(decimal): [ 27 221 106 8 108 240 48 153 ]
P(binary): [ 00011011 11011101 01101010 00001000 01101100 11110000 00110000 10011001 ]
Byte0(decimal): 193
Byte0(binary):  11000001

MODIFIED: P(decimal): [ 27 220 106 8 108 240 49 153 ]
P(binary): [ 00011011 11011100 01101010 00001000 01101100 11110000 00110001 10011001 ]
Byte0(decimal): 193
Byte0(binary):  11000001

Original B0: 193
Decoded B0:  193
bash-4.4$ ./lab11_jsingh51_201 5[K6
UNMODIFIED: P(decimal): [ 189 185 24 49 172 117 246 3 ]
P(binary): [ 10111101 10111001 00011000 00110001 10101100 01110101 11110110 00000011 ]
Byte0(decimal): 138
Byte0(binary):  10001010

MODIFIED: P(decimal): [ 188 185 24 49 172 116 246 3 ]
P(binary): [ 10111100 10111001 00011000 00110001 10101100 01110100 11110110 00000011 ]
Byte0(decimal): 138
Byte0(binary):  10001010

Original B0: 138
Decoded B0:  138
bash-4.4$ ./lab11_jsingh51_201 6[K7
UNMODIFIED: P(decimal): [ 245 67 59 175 109 27 122 145 ]
P(binary): [ 11110101 01000011 00111011 10101111 01101101 00011011 01111010 10010001 ]
Byte0(decimal): 80
Byte0(binary):  01010000

MODIFIED: P(decimal): [ 244 66 58 174 109 26 123 144 ]
P(binary): [ 11110100 01000010 00111010 10101110 01101101 00011010 01111011 10010000 ]
Byte0(decimal): 80
Byte0(binary):  01010000

Original B0: 80
Decoded B0:  80
bash-4.4$ ./lab11_jsingh51_201 7[K8
UNMODIFIED: P(decimal): [ 120 152 34 125 87 205 222 213 ]
P(binary): [ 01111000 10011000 00100010 01111101 01010111 11001101 11011110 11010101 ]
Byte0(decimal): 185
Byte0(binary):  10111001

MODIFIED: P(decimal): [ 121 152 34 125 87 205 222 213 ]
P(binary): [ 01111001 10011000 00100010 01111101 01010111 11001101 11011110 11010101 ]
Byte0(decimal): 185
Byte0(binary):  10111001

Original B0: 185
Decoded B0:  185
bash-4.4$ ./lab11_jsingh51_201 8[K9
UNMODIFIED: P(decimal): [ 3 114 165 87 114 157 236 230 ]
P(binary): [ 00000011 01110010 10100101 01010111 01110010 10011101 11101100 11100110 ]
Byte0(decimal): 202
Byte0(binary):  11001010

MODIFIED: P(decimal): [ 2 115 164 87 114 156 237 231 ]
P(binary): [ 00000010 01110011 10100100 01010111 01110010 10011100 11101101 11100111 ]
Byte0(decimal): 202
Byte0(binary):  11001010

Original B0: 202
Decoded B0:  202
bash-4.4$ ./lab11_jsingh51_201 9[K10
UNMODIFIED: P(decimal): [ 111 152 38 53 2 201 131 215 ]
P(binary): [ 01101111 10011000 00100110 00110101 00000010 11001001 10000011 11010111 ]
Byte0(decimal): 139
Byte0(binary):  10001011

MODIFIED: P(decimal): [ 111 153 38 53 2 200 130 215 ]
P(binary): [ 01101111 10011001 00100110 00110101 00000010 11001000 10000010 11010111 ]
Byte0(decimal): 139
Byte0(binary):  10001011

Original B0: 139
Decoded B0:  139
bash-4.4$ ./lab11_jsingh51_201 101245
UNMODIFIED: P(decimal): [ 114 173 95 164 11 94 104 173 ]
P(binary): [ 01110010 10101101 01011111 10100100 00001011 01011110 01101000 10101101 ]
Byte0(decimal): 125
Byte0(binary):  01111101

MODIFIED: P(decimal): [ 115 172 95 165 11 95 105 172 ]
P(binary): [ 01110011 10101100 01011111 10100101 00001011 01011111 01101001 10101100 ]
Byte0(decimal): 125
Byte0(binary):  01111101

Original B0: 125
Decoded B0:  125
bash-4.4$ make clean
rm lab11_jsingh51_201
bash-4.4$ exit
exit

Script done on 2024-04-18 12:44:47-04:00
